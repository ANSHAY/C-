class Solution {
public:
    string removeKdigits(string num, int k) {
        if(k>=num.size() || num.empty()) return "0";
        vector<char> stack;
        string res = "";
        int i=1;
        stack.push_back(num[0]);
        while(k>0 && i<num.size()){
            if(stack.empty()){
                if(num[i]!=0) stack.push_back(num[i]);
                i++;
            }
            else{
                if(num[i]<stack.back()){
                    stack.pop_back();
                    k--;
                }
                else{
                    stack.push_back(num[i]);
                    ++i;
                }
            }
        }
        int j=0;
        while(j+k<stack.size()){
            if(!(res=="" && stack[j]=='0')) res+=stack[j];
            j++;
        }
        while(i<num.size()){
            if(!(res=="" && num[i]=='0')) res+=num[i];
            ++i;
        }
        if(res=="") res="0";
        return res;
    }
};
/* testcases
"1432219"
3
"10"
1
"10"
2
"10200"
1
"1001145"
1
"1001145"
2
"1001145"
3
"1001145"
4
"123456789"
1
"987654321"
1
"12343212345"
1
"123432345676543"
1
"712345"
1
"71234321"
1
"7123451"
1
"1987654"
1
"198765456"
1
"198765439"
1
"12345678900"
1
"98765432100"
1
"1234321234500"
1
"12343234567654300"
1
"71234500"
1
"7123432100"
1
"712345100"
1
"198765400"
1
"19876545600"
1
"19876543900"
1
"12340056789"
1
"98765400321"
1
"1234320012345"
1
"12343230045676543"
1
"71200345"
1
"7123004321"
1
"712300451"
1
"198700654"
1
"19870065456"
1
"19870065439"
1
"12034506789"
1
"98706543021"
1
"1230432120345"
1
"12034323456076543"
1
"71023045"
1
"7102343021"
1
"710234051"
1
"190876054"
1
"19870654056"
1
"19807654039"
1
"123456789"
2
"987654321"
2
"12343212345"
2
"123432345676543"
2
"712345"
2
"71234321"
2
"7123451"
2
"1987654"
2
"198765456"
2
"198765439"
2
"12345678900"
2
"98765432100"
2
"1234321234500"
2
"12343234567654300"
2
"71234500"
2
"7123432100"
2
"712345100"
2
"198765400"
2
"19876545600"
2
"19876543900"
2
"12340056789"
2
"98765400321"
2
"1234320012345"
2
"12343230045676543"
2
"71200345"
2
"7123004321"
2
"712300451"
2
"198700654"
2
"19870065456"
2
"19870065439"
2
"12034506789"
2
"98706543021"
2
"1230432120345"
2
"12034323456076543"
2
"71023045"
2
"7102343021"
2
"710234051"
2
"190876054"
2
"19870654056"
2
"19807654039"
2
"123456789"
3
"987654321"
3
"12343212345"
3
"123432345676543"
3
"712345"
3
"71234321"
3
"7123451"
3
"1987654"
3
"198765456"
3
"198765439"
3
"12345678900"
3
"98765432100"
3
"1234321234500"
3
"12343234567654300"
3
"71234500"
3
"7123432100"
3
"712345100"
3
"198765400"
3
"19876545600"
3
"19876543900"
3
"12340056789"
3
"98765400321"
3
"1234320012345"
3
"12343230045676543"
3
"71200345"
3
"7123004321"
3
"712300451"
3
"198700654"
3
"19870065456"
3
"19870065439"
3
"12034506789"
3
"98706543021"
3
"1230432120345"
3
"12034323456076543"
3
"71023045"
3
"7102343021"
3
"710234051"
3
"190876054"
3
"19870654056"
3
"19807654039"
3
"123456789"
4
"987654321"
4
"12343212345"
4
"123432345676543"
4
"712345"
4
"71234321"
4
"7123451"
4
"1987654"
4
"198765456"
4
"198765439"
4
"12345678900"
4
"98765432100"
4
"1234321234500"
4
"12343234567654300"
4
"71234500"
4
"7123432100"
4
"712345100"
4
"198765400"
4
"19876545600"
4
"19876543900"
4
"12340056789"
4
"98765400321"
4
"1234320012345"
4
"12343230045676543"
4
"71200345"
4
"7123004321"
4
"712300451"
4
"198700654"
4
"19870065456"
4
"19870065439"
4
"12034506789"
4
"98706543021"
4
"1230432120345"
4
"12034323456076543"
4
"71023045"
4
"7102343021"
4
"710234051"
4
"190876054"
4
"19870654056"
4
"19807654039"
4
"123456789"
5
"987654321"
5
"12343212345"
5
"123432345676543"
5
"712345"
5
"71234321"
5
"7123451"
5
"1987654"
5
"198765456"
5
"198765439"
5
"12345678900"
5
"98765432100"
5
"1234321234500"
5
"12343234567654300"
5
"71234500"
5
"7123432100"
5
"712345100"
5
"198765400"
5
"19876545600"
5
"19876543900"
5
"12340056789"
5
"98765400321"
5
"1234320012345"
5
"12343230045676543"
5
"71200345"
5
"7123004321"
5
"712300451"
5
"198700654"
5
"19870065456"
5
"19870065439"
5
"12034506789"
5
"98706543021"
5
"1230432120345"
5
"12034323456076543"
5
"71023045"
5
"7102343021"
5
"710234051"
5
"190876054"
5
"19870654056"
5
"19807654039"
5
*/
